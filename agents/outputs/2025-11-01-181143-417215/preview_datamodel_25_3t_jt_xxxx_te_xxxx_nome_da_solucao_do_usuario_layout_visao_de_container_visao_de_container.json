{
  "model_identifier": "id-pix-solution",
  "model_name": "Plataforma de Pagamentos PIX",
  "elements": [
    {
      "id": "id-cliente-pf",
      "type": "BusinessActor",
      "name": "Cliente Pessoa Física"
    },
    {
      "id": "id-mobile-app",
      "type": "ApplicationComponent",
      "name": "Mobile App / Internet Banking",
      "documentation": "Frontend da solução, utilizado pelo cliente para iniciar as transações PIX. Responsável pela autenticação e captura da intenção do usuário."
    },
    {
      "id": "id-api-gateway",
      "type": "ApplicationComponent",
      "name": "API Gateway",
      "documentation": "Ponto de entrada único para todas as requisições, aplicando políticas de segurança e roteamento para os microsserviços internos."
    },
    {
      "id": "id-auth-service",
      "type": "ApplicationComponent",
      "name": "Serviço de Autenticação",
      "documentation": "Responsável pela autenticação multifator (MFA) e geração de tokens JWT (OAuth 2.0)."
    },
    {
      "id": "id-pix-orchestrator",
      "type": "ApplicationComponent",
      "name": "Serviço de Orquestração PIX",
      "documentation": "Microsserviço central que coordena o fluxo da transferência PIX, comunicando-se com os demais serviços para validar saldo, executar a transação e notificar."
    },
    {
      "id": "id-accounts-service",
      "type": "ApplicationComponent",
      "name": "Serviço de Contas",
      "documentation": "Interface com o sistema de Core Banking para consulta de saldo e efetivação de débitos."
    },
    {
      "id": "id-bacen-integration",
      "type": "ApplicationComponent",
      "name": "Serviço de Integração BACEN",
      "documentation": "Componente que isola a comunicação com os sistemas do Banco Central (DICT e SPI)."
    },
    {
      "id": "id-fraud-service",
      "type": "ApplicationComponent",
      "name": "Serviço Antifraude",
      "documentation": "Realiza a integração em tempo real com o motor de prevenção à fraude."
    },
    {
      "id": "id-notification-service",
      "type": "ApplicationComponent",
      "name": "Serviço de Notificações",
      "documentation": "Gerencia o envio de notificações push e a geração de comprovantes."
    },
    {
      "id": "id-transaction-db",
      "type": "TechnologyService",
      "name": "Banco de Dados Transacional",
      "documentation": "Base de dados PostgreSQL para persistência de transações, chaves e logs de auditoria."
    },
    {
      "id": "id-cache",
      "type": "TechnologyService",
      "name": "Cache",
      "documentation": "Cache Redis para dados de sessão, limites e outras informações de acesso rápido."
    },
    {
      "id": "id-messaging",
      "type": "TechnologyService",
      "name": "Broker de Mensageria",
      "documentation": "Apache Kafka utilizado para comunicação assíncrona entre serviços, como para auditoria e notificações."
    },
    {
      "id": "id-hsm",
      "type": "TechnologyService",
      "name": "HSM (Hardware Security Module)",
      "documentation": "Armazena e protege as chaves criptográficas utilizadas nas transações PIX."
    },
    {
      "id": "id-dict",
      "type": "ApplicationComponent",
      "name": "DICT (BACEN)",
      "documentation": "Sistema externo do Banco Central para consulta de chaves PIX."
    },
    {
      "id": "id-spi",
      "type": "ApplicationComponent",
      "name": "SPI (BACEN)",
      "documentation": "Sistema de Pagamentos Instantâneos do Banco Central, liquidador das transações."
    },
    {
      "id": "id-core-banking",
      "type": "ApplicationComponent",
      "name": "Core Banking System",
      "documentation": "Sistema legado (mainframe) que gerencia as contas correntes dos clientes."
    },
    {
      "id": "id-fraud-system",
      "type": "ApplicationComponent",
      "name": "Sistema de Prevenção à Fraude",
      "documentation": "Motor de análise de risco que avalia as transações em tempo real."
    },
    {
      "id": "id-notification-gateway",
      "type": "ApplicationComponent",
      "name": "Gateway de Notificações Push",
      "documentation": "Serviço externo responsável pela entrega de notificações nos dispositivos móveis."
    },
    {
      "id": "id-audit-system",
      "type": "ApplicationComponent",
      "name": "Sistema de Auditoria e Compliance",
      "documentation": "Sistema que centraliza os logs para fins de auditoria e conformidade."
    },
    {
      "id": "id-serasa-system",
      "type": "ApplicationComponent",
      "name": "Bureau de Consulta (SPC/Serasa)",
      "documentation": "Sistema externo para validações cadastrais adicionais."
    }
  ],
  "relations": [
    {
      "id": "rel-1",
      "source": "id-cliente-pf",
      "target": "id-mobile-app",
      "label": "Utiliza"
    },
    {
      "id": "rel-2",
      "source": "id-mobile-app",
      "target": "id-api-gateway",
      "label": "Realiza chamadas de API via HTTPS"
    },
    {
      "id": "rel-3",
      "source": "id-api-gateway",
      "target": "id-auth-service",
      "label": "Delega autenticação"
    },
    {
      "id": "rel-4",
      "source": "id-api-gateway",
      "target": "id-pix-orchestrator",
      "label": "Encaminha requisições de negócio"
    },
    {
      "id": "rel-5",
      "source": "id-pix-orchestrator",
      "target": "id-accounts-service",
      "label": "Consulta e atualiza saldo"
    },
    {
      "id": "rel-6",
      "source": "id-pix-orchestrator",
      "target": "id-bacen-integration",
      "label": "Solicita consulta de chave e ordem de pagamento"
    },
    {
      "id": "rel-7",
      "source": "id-pix-orchestrator",
      "target": "id-fraud-service",
      "label": "Solicita análise de risco"
    },
    {
      "id": "rel-8",
      "source": "id-pix-orchestrator",
      "target": "id-notification-service",
      "label": "Solicita envio de notificação"
    },
    {
      "id": "rel-9",
      "source": "id-pix-orchestrator",
      "target": "id-transaction-db",
      "label": "Persiste dados da transação"
    },
    {
      "id": "rel-10",
      "source": "id-pix-orchestrator",
      "target": "id-cache",
      "label": "Consulta/Atualiza limites e dados de sessão"
    },
    {
      "id": "rel-11",
      "source": "id-pix-orchestrator",
      "target": "id-messaging",
      "label": "Publica eventos de transação (Auditoria)"
    },
    {
      "id": "rel-12",
      "source": "id-accounts-service",
      "target": "id-core-banking",
      "label": "Consulta saldo e executa débito/crédito"
    },
    {
      "id": "rel-13",
      "source": "id-bacen-integration",
      "target": "id-dict",
      "label": "Consulta dados de chave PIX"
    },
    {
      "id": "rel-14",
      "source": "id-bacen-integration",
      "target": "id-spi",
      "label": "Envia ordem de liquidação"
    },
    {
      "id": "rel-15",
      "source": "id-fraud-service",
      "target": "id-fraud-system",
      "label": "Envia dados para análise de fraude"
    },
    {
      "id": "rel-16",
      "source": "id-notification-service",
      "target": "id-notification-gateway",
      "label": "Solicita envio de push"
    },
    {
      "id": "rel-17",
      "source": "id-messaging",
      "target": "id-audit-system",
      "label": "Consome eventos para auditoria"
    },
    {
      "id": "rel-18",
      "source": "id-pix-orchestrator",
      "target": "id-hsm",
      "label": "Utiliza para operações criptográficas"
    }
  ],
  "organizations": [],
  "views": {
    "diagrams": [
      {
        "id": "id-171323",
        "name": "Visão de Container",
        "title": "Visão de Container - Plataforma de Pagamentos PIX",
        "nodes": [
          {
            "id": "node-cliente",
            "elementRef": "id-cliente-pf",
            "type": "Element",
            "label": "Cliente Pessoa Física",
            "bounds": {
              "x": 20,
              "y": 350,
              "width": 150,
              "height": 80
            }
          },
          {
            "id": "node-mobile",
            "elementRef": "id-mobile-app",
            "type": "Element",
            "label": "Mobile App",
            "bounds": {
              "x": 200,
              "y": 350,
              "width": 150,
              "height": 80
            }
          },
          {
            "id": "node-system-boundary",
            "type": "Container",
            "label": "Sistema: Plataforma de Pagamentos PIX",
            "bounds": {
              "x": 380,
              "y": 20,
              "width": 900,
              "height": 760
            },
            "nodes": [
              {
                "id": "node-api-gateway",
                "elementRef": "id-api-gateway",
                "type": "Element",
                "label": "API Gateway",
                "bounds": {
                  "x": 400,
                  "y": 350,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-auth-service",
                "elementRef": "id-auth-service",
                "type": "Element",
                "label": "Serviço de Autenticação",
                "bounds": {
                  "x": 580,
                  "y": 80,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-pix-orchestrator",
                "elementRef": "id-pix-orchestrator",
                "type": "Element",
                "label": "Serviço de Orquestração PIX",
                "bounds": {
                  "x": 580,
                  "y": 350,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-accounts-service",
                "elementRef": "id-accounts-service",
                "type": "Element",
                "label": "Serviço de Contas",
                "bounds": {
                  "x": 760,
                  "y": 210,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-bacen-integration",
                "elementRef": "id-bacen-integration",
                "type": "Element",
                "label": "Serviço de Integração BACEN",
                "bounds": {
                  "x": 760,
                  "y": 350,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-fraud-service",
                "elementRef": "id-fraud-service",
                "type": "Element",
                "label": "Serviço Antifraude",
                "bounds": {
                  "x": 760,
                  "y": 490,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-notification-service",
                "elementRef": "id-notification-service",
                "type": "Element",
                "label": "Serviço de Notificações",
                "bounds": {
                  "x": 760,
                  "y": 630,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-db",
                "elementRef": "id-transaction-db",
                "type": "Element",
                "label": "Banco de Dados (PostgreSQL)",
                "bounds": {
                  "x": 940,
                  "y": 80,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-cache",
                "elementRef": "id-cache",
                "type": "Element",
                "label": "Cache (Redis)",
                "bounds": {
                  "x": 940,
                  "y": 210,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-kafka",
                "elementRef": "id-messaging",
                "type": "Element",
                "label": "Mensageria (Kafka)",
                "bounds": {
                  "x": 580,
                  "y": 560,
                  "width": 150,
                  "height": 80
                }
              },
              {
                "id": "node-hsm",
                "elementRef": "id-hsm",
                "type": "Element",
                "label": "HSM",
                "bounds": {
                  "x": 940,
                  "y": 490,
                  "width": 150,
                  "height": 80
                }
              }
            ]
          },
          {
            "id": "node-dict",
            "elementRef": "id-dict",
            "type": "Element",
            "label": "DICT (BACEN)",
            "bounds": {
              "x": 1300,
              "y": 280,
              "width": 150,
              "height": 80
            }
          },
          {
            "id": "node-spi",
            "elementRef": "id-spi",
            "type": "Element",
            "label": "SPI (BACEN)",
            "bounds": {
              "x": 1300,
              "y": 380,
              "width": 150,
              "height": 80
            }
          },
          {
            "id": "node-core-banking",
            "elementRef": "id-core-banking",
            "type": "Element",
            "label": "Core Banking (Mainframe)",
            "bounds": {
              "x": 1300,
              "y": 180,
              "width": 150,
              "height": 80
            }
          },
          {
            "id": "node-fraud-system",
            "elementRef": "id-fraud-system",
            "type": "Element",
            "label": "Sistema Antifraude",
            "bounds": {
              "x": 1300,
              "y": 490,
              "width": 150,
              "height": 80
            }
          },
          {
            "id": "node-notification-gateway",
            "elementRef": "id-notification-gateway",
            "type": "Element",
            "label": "Gateway de Notificações",
            "bounds": {
              "x": 1300,
              "y": 630,
              "width": 150,
              "height": 80
            }
          },
          {
            "id": "node-audit-system",
            "elementRef": "id-audit-system",
            "type": "Element",
            "label": "Sistema de Auditoria",
            "bounds": {
              "x": 580,
              "y": 700,
              "width": 150,
              "height": 80
            }
          }
        ],
        "connections": [
          {
            "id": "conn-1",
            "relationshipRef": "rel-1",
            "source": "node-cliente",
            "target": "node-mobile"
          },
          {
            "id": "conn-2",
            "relationshipRef": "rel-2",
            "source": "node-mobile",
            "target": "node-api-gateway"
          },
          {
            "id": "conn-3",
            "relationshipRef": "rel-3",
            "source": "node-api-gateway",
            "target": "node-auth-service"
          },
          {
            "id": "conn-4",
            "relationshipRef": "rel-4",
            "source": "node-api-gateway",
            "target": "node-pix-orchestrator"
          },
          {
            "id": "conn-5",
            "relationshipRef": "rel-5",
            "source": "node-pix-orchestrator",
            "target": "node-accounts-service"
          },
          {
            "id": "conn-6",
            "relationshipRef": "rel-6",
            "source": "node-pix-orchestrator",
            "target": "node-bacen-integration"
          },
          {
            "id": "conn-7",
            "relationshipRef": "rel-7",
            "source": "node-pix-orchestrator",
            "target": "node-fraud-service"
          },
          {
            "id": "conn-8",
            "relationshipRef": "rel-8",
            "source": "node-pix-orchestrator",
            "target": "node-notification-service"
          },
          {
            "id": "conn-9",
            "relationshipRef": "rel-9",
            "source": "node-pix-orchestrator",
            "target": "node-db"
          },
          {
            "id": "conn-10",
            "relationshipRef": "rel-10",
            "source": "node-pix-orchestrator",
            "target": "node-cache"
          },
          {
            "id": "conn-11",
            "relationshipRef": "rel-11",
            "source": "node-pix-orchestrator",
            "target": "node-kafka"
          },
          {
            "id": "conn-12",
            "relationshipRef": "rel-12",
            "source": "node-accounts-service",
            "target": "node-core-banking"
          },
          {
            "id": "conn-13",
            "relationshipRef": "rel-13",
            "source": "node-bacen-integration",
            "target": "node-dict"
          },
          {
            "id": "conn-14",
            "relationshipRef": "rel-14",
            "source": "node-bacen-integration",
            "target": "node-spi"
          },
          {
            "id": "conn-15",
            "relationshipRef": "rel-15",
            "source": "node-fraud-service",
            "target": "node-fraud-system"
          },
          {
            "id": "conn-16",
            "relationshipRef": "rel-16",
            "source": "node-notification-service",
            "target": "node-notification-gateway"
          },
          {
            "id": "conn-17",
            "relationshipRef": "rel-17",
            "source": "node-kafka",
            "target": "node-audit-system"
          },
          {
            "id": "conn-18",
            "relationshipRef": "rel-18",
            "source": "node-pix-orchestrator",
            "target": "node-hsm"
          }
        ]
      }
    ]
  }
}