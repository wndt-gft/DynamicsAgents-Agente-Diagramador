{
  "model_identifier": "id-pix-transfer-model",
  "elements": [
    {
      "identifier": "id-cliente",
      "type": "Person",
      "label": "Cliente Pessoa Física"
    },
    {
      "identifier": "id-pix-system",
      "type": "SoftwareSystem",
      "label": "Sistema de Transferências PIX"
    },
    {
      "identifier": "id-mobile-app",
      "type": "Container",
      "label": "Mobile App",
      "technology": "Android/iOS",
      "description": "Permite ao cliente realizar operações bancárias."
    },
    {
      "identifier": "id-internet-banking",
      "type": "Container",
      "label": "Internet Banking",
      "technology": "Web Application",
      "description": "Permite ao cliente realizar operações bancárias via navegador."
    },
    {
      "identifier": "id-api-gateway",
      "type": "Container",
      "label": "API Gateway",
      "technology": "Spring Cloud Gateway",
      "description": "Ponto de entrada único para as APIs, lidando com roteamento, segurança (OAuth 2.0/JWT) e rate limiting."
    },
    {
      "identifier": "id-pix-service",
      "type": "Container",
      "label": "Microsserviço de Transferências PIX",
      "technology": "Java/Spring Boot",
      "description": "Orquestra a lógica de negócio para realizar a transferência PIX."
    },
    {
      "identifier": "id-account-service",
      "type": "Container",
      "label": "Microsserviço de Contas",
      "technology": "Java/Spring Boot",
      "description": "Gerencia saldos e validações junto ao Core Banking."
    },
    {
      "identifier": "id-auth-service",
      "type": "Container",
      "label": "Microsserviço de Autenticação",
      "technology": "Java/Spring Boot",
      "description": "Lida com MFA, tokens e biometria, integrando-se ao HSM."
    },
    {
      "identifier": "id-notification-service",
      "type": "Container",
      "label": "Microsserviço de Notificações",
      "technology": "Java/Spring Boot",
      "description": "Envia eventos para o Kafka para notificações push."
    },
    {
      "identifier": "id-audit-service",
      "type": "Container",
      "label": "Microsserviço de Auditoria",
      "technology": "Java/Spring Boot",
      "description": "Consome eventos do Kafka para registrar trilhas de auditoria."
    },
    {
      "identifier": "id-postgres-db",
      "type": "Container",
      "label": "Banco de Dados Transacional",
      "technology": "PostgreSQL",
      "description": "Armazena dados de transações, chaves PIX e informações de clientes."
    },
    {
      "identifier": "id-redis-cache",
      "type": "Container",
      "label": "Cache de Sessão e Dados",
      "technology": "Redis",
      "description": "Armazena dados de sessão, limites e informações de cache para performance."
    },
    {
      "identifier": "id-kafka",
      "type": "Container",
      "label": "Plataforma de Eventos",
      "technology": "Apache Kafka",
      "description": "Fila para eventos assíncronos de notificação e auditoria."
    },
    {
      "identifier": "id-core-banking",
      "type": "SoftwareSystem",
      "label": "Core Banking System",
      "description": "Sistema legado (mainframe) que gerencia as contas correntes."
    },
    {
      "identifier": "id-bacen-spi",
      "type": "SoftwareSystem",
      "label": "BACEN - SPI",
      "description": "Sistema de Pagamentos Instantâneos do Banco Central."
    },
    {
      "identifier": "id-bacen-dict",
      "type": "SoftwareSystem",
      "label": "BACEN - DICT",
      "description": "Diretório de Identificadores de Contas Transacionais do Banco Central."
    },
    {
      "identifier": "id-fraud-system",
      "type": "SoftwareSystem",
      "label": "Sistema Antifraude",
      "description": "Motor de análise de risco e prevenção à fraude em tempo real."
    },
    {
      "identifier": "id-notification-gateway",
      "type": "SoftwareSystem",
      "label": "Gateway de Notificações",
      "description": "Serviço externo para envio de notificações push (Firebase/APNS)."
    }
  ],
  "relations": [
    {
      "source": "id-cliente",
      "target": "id-mobile-app",
      "label": "Usa"
    },
    {
      "source": "id-cliente",
      "target": "id-internet-banking",
      "label": "Usa"
    },
    {
      "source": "id-mobile-app",
      "target": "id-api-gateway",
      "label": "Realiza chamadas de API via",
      "technology": "HTTPS/JSON"
    },
    {
      "source": "id-internet-banking",
      "target": "id-api-gateway",
      "label": "Realiza chamadas de API via",
      "technology": "HTTPS/JSON"
    },
    {
      "source": "id-api-gateway",
      "target": "id-pix-service",
      "label": "Encaminha requisições para"
    },
    {
      "source": "id-api-gateway",
      "target": "id-auth-service",
      "label": "Valida token JWT"
    },
    {
      "source": "id-pix-service",
      "target": "id-account-service",
      "label": "Consulta/debita saldo de"
    },
    {
      "source": "id-pix-service",
      "target": "id-bacen-dict",
      "label": "Consulta chave PIX via",
      "technology": "API REST"
    },
    {
      "source": "id-pix-service",
      "target": "id-bacen-spi",
      "label": "Executa transferência via",
      "technology": "API REST"
    },
    {
      "source": "id-pix-service",
      "target": "id-fraud-system",
      "label": "Valida transação em",
      "technology": "API REST"
    },
    {
      "source": "id-pix-service",
      "target": "id-postgres-db",
      "label": "Persiste transação em"
    },
    {
      "source": "id-pix-service",
      "target": "id-kafka",
      "label": "Publica evento de transferência concluída"
    },
    {
      "source": "id-account-service",
      "target": "id-core-banking",
      "label": "Consulta saldo e realiza débito no",
      "technology": "Mensageria/API"
    },
    {
      "source": "id-account-service",
      "target": "id-redis-cache",
      "label": "Consulta limites diários em"
    },
    {
      "source": "id-notification-service",
      "target": "id-kafka",
      "label": "Consome evento de"
    },
    {
      "source": "id-notification-service",
      "target": "id-notification-gateway",
      "label": "Envia notificação para"
    },
    {
      "source": "id-audit-service",
      "target": "id-kafka",
      "label": "Consome evento de"
    },
    {
      "source": "id-audit-service",
      "target": "id-postgres-db",
      "label": "Grava log de auditoria em"
    }
  ],
  "organizations": [],
  "views": [
    {
      "view_identifier": "id-171323",
      "elements": [
        "id-cliente",
        "id-pix-system",
        "id-mobile-app",
        "id-internet-banking",
        "id-api-gateway",
        "id-pix-service",
        "id-account-service",
        "id-auth-service",
        "id-notification-service",
        "id-audit-service",
        "id-postgres-db",
        "id-redis-cache",
        "id-kafka",
        "id-core-banking",
        "id-bacen-spi",
        "id-bacen-dict",
        "id-fraud-system",
        "id-notification-gateway"
      ]
    }
  ]
}